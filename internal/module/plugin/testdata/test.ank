errors = import("errors")
fmt    = import("fmt")

// status
started = false

func Start() {
    started = true
    return nil
}

func Stop() {
    started = false
    return
}

func Name() {
    return "anko-name"
}

func Info() {
    return "anko-info"
}

func Status() {
    return "anko-status"
}

func Call(method, args...) {
    switch method {
    case "IsStarted":
        return IsStarted()
    case "Add":
        return Add(args[0], args[1])
    case "MultiReturn":
        return MultiReturn()
    case "UseExternal":
        UseExternal()
    default:
        return fmt.Errorf("unknown method: \"%s\"", method)
    }
}

func IsStarted() {
    return started
}

func Add(a, b) {
    return a + b
}

func MultiReturn() {
    return "a", errors.New("b")
}

func UseExternal() {
    external.SendMessage("hello")
}

// load successfully
return true